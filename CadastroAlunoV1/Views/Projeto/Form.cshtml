@model ProjetoViewModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Cadastro de Projeto</h2>


<div class="row">
    <div class="col-md-4">
        <form asp-action="Salvar" enctype="multipart/form-data" method="post">
            <input type="hidden" name="Operacao" value="@ViewBag.Operacao" />
            <input type="hidden" Name="Id" value="@Model.Id" class="form-control" />

            <label for="NomeProjeto" class="control-label">Nome do Projeto</label>
            <input type="text" Name="NomeProjeto" value="@Model.NomeProjeto" class="form-control" />
            <span asp-validation-for="NomeProjeto" class="text-danger"></span>
            <br />

            <label for="BoxFoto" class="control-label">BoxFoto</label>
            <input type="text" Name="BoxFoto" value="@Model.BoxFoto" class="form-control" />
            <span asp-validation-for="BoxFoto" class="text-danger"></span>
            <br />

            <label asp-for="Espessura" class="control-label">Espessura</label>
            <select asp-for="Espessura" asp-items="@Model.Materiais.Espessuras" class="form-control"> </select>
            <span asp-validation-for="Espessura" class="text-danger"></span>
            <br />

            <label for="Tecnologia" class="control-label">Tecnologia</label>
            <select asp-for="Tecnologia" asp-items="@Model.Materiais.Tecnologias" class="form-control"> </select>
            <span asp-validation-for="Tecnologia" class="text-danger"></span>
            <br />

            <label for="Adesivo" class="control-label">Adesivo</label>
            <select asp-for="Adesivo" asp-items="@Model.Materiais.SimNao" class="form-control"> </select>
            <span asp-validation-for="Adesivo" class="text-danger"></span>
            <br />

            <label for="Furo" class="control-label">Furo</label>
            <select asp-for="Furo" asp-items="@Model.Materiais.SimNao" class="form-control"> </select>
            <span asp-validation-for="Furo" class="text-danger"></span>
            <br />

            <label for="Termo" class="control-label">Termo</label>
            <select asp-for="Termo" asp-items="@Model.Materiais.SimNao" class="form-control"> </select>
            <span asp-validation-for="Termo" class="text-danger"></span>
            <br />

            <label asp-for="ProjTermo" class="control-label">Projeto Termo</label>
            <input asp-for="ProjTermo" class="form-control" />
            <span asp-validation-for="ProjTermo" class="text-danger"></span>
            <br />

            <label asp-for="Imagem" class="control-label">Imagem</label>
            <input asp-for="Imagem" id="Imagem" onchange="exibirImagem()" class="form-control">
            <img id="imgPreview" src="data:image/jpeg;base64,@Model.ImagemEmBase64" class="img-responsive" width="200">
            <span asp-validation-for="Imagem" class="text-danger"></span>
            <br />


            <label for="TarjaMag" class="control-label">TarjaMag</label>
            <select asp-for="TarjaMag" asp-items="@Model.Materiais.SimNao" class="form-control"> </select>
            <span asp-validation-for="TarjaMag" class="text-danger"></span>
            <br />

            <label for="Obs" class="control-label">Observações</label>
            <input type="text" Name="Obs" value="@Model.Obs" class="form-control" />
            <span asp-validation-for="Obs" class="text-danger"></span>
            <br />


            <label asp-for="ClienteID" class="control-label">Cliente</label>
            <select asp-for="ClienteID" asp-items="ViewBag.Clientes" class="form-control"> </select>
            <span asp-validation-for="ClienteID" class="text-danger"></span>
            <br />

            <input type="submit" value="Salvar dados" />
            <br />
            <span class="text-danger">@ViewBag.Erro</span>
        </form>
    </div>
</div>

<script>
    function exibirImagem() {
        var oFReader = new FileReader();
        oFReader.readAsDataURL(document.getElementById("Imagem").files[0]);
        oFReader.onload = function (oFREvent) {
            document.getElementById("imgPreview").src = oFREvent.target.result;
        };
    }
</script>